on: [ push ]
name: CI
jobs:
  build-and-test:
    runs-on: ubuntu-22.04
    container:
      # noinspection SpellCheckingInspection
      image: eclipse-temurin:17.0.17_10-jdk-noble@sha256:37823ac22e65c6248a897229583835089aa06337ba4477a2878533655333f44d
    steps:
      - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1
      - run: ./gradlew buildSrc:build clean build
      - uses: actions/upload-artifact@b7c566a772e6b6bfb58ed0dc250532a479d7789f # v6.0.0
        with:
          name: Test Reports
          path: |
            build/reports/tests/
            buildSrc/build/reports/tests/